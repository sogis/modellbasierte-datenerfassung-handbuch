<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.8">
<meta name="author" content="Amt für Geoinformation Kanton Solothurn">
<title>Modellbasierte Datenerfassung - Handbuch</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | http://asciidoctor.org */
/* Uncomment @import statement below to use as custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display:block}
audio,canvas,video{display:inline-block}
audio:not([controls]){display:none;height:0}
script{display:none!important}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
a{background:transparent}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*::before,*::after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto;tab-size:4;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:none}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite::before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt,table tr:nth-of-type(even){background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
*:not(pre)>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background-color:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed;word-wrap:break-word}
*:not(pre)>code.nobreak{word-wrap:normal}
*:not(pre)>code.nowrap{white-space:nowrap}
pre,pre>code{line-height:1.45;color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;text-rendering:optimizeSpeed}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background-color:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background-color:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background-color:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock pre:not(.highlight),.listingblock pre[class="highlight"],.listingblock pre[class^="highlight "],.listingblock pre.CodeRay,.listingblock pre.prettyprint{background:#f7f7f8}
.sidebarblock .literalblock pre,.sidebarblock .listingblock pre:not(.highlight),.sidebarblock .listingblock pre[class="highlight"],.sidebarblock .listingblock pre[class^="highlight "],.sidebarblock .listingblock pre.CodeRay,.sidebarblock .listingblock pre.prettyprint{background:#f2f1f1}
.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:1em}}
.literalblock pre.nowrap,.literalblock pre.nowrap pre,.listingblock pre.nowrap,.listingblock pre.nowrap pre{white-space:pre;word-wrap:normal}
.literalblock.output pre{color:#f7f7f8;background-color:rgba(0,0,0,.9)}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:#999}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:#999}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
table.pyhltable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.pyhltable td{vertical-align:top;padding-top:0;padding-bottom:0;line-height:1.45}
table.pyhltable td.code{padding-left:.75em;padding-right:0}
pre.pygments .lineno,table.pyhltable td:not(.code){color:#999;padding-left:0;padding-right:.5em;border-right:1px solid #dddddf}
pre.pygments .lineno{display:inline-block;margin-right:.25em}
table.pyhltable .linenodiv{background:none!important;padding-right:0!important}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt,.quoteblock .quoteblock{margin:0 0 1.25em;padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;text-align:left;margin-right:0}
table.tableblock{max-width:100%;border-collapse:separate}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>thead>tr>.tableblock,table.grid-all>tbody>tr>.tableblock{border-width:0 1px 1px 0}
table.grid-all>tfoot>tr>.tableblock{border-width:1px 1px 0 0}
table.grid-cols>*>tr>.tableblock{border-width:0 1px 0 0}
table.grid-rows>thead>tr>.tableblock,table.grid-rows>tbody>tr>.tableblock{border-width:0 0 1px}
table.grid-rows>tfoot>tr>.tableblock{border-width:1px 0 0}
table.grid-all>*>tr>.tableblock:last-child,table.grid-cols>*>tr>.tableblock:last-child{border-right-width:0}
table.grid-all>tbody>tr:last-child>.tableblock,table.grid-all>thead:last-child>tr>.tableblock,table.grid-rows>tbody>tr:last-child>.tableblock,table.grid-rows>thead:last-child>tr>.tableblock{border-bottom-width:0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot,table.frame-ends{border-width:1px 0}
table.stripes-all tr,table.stripes-odd tr:nth-of-type(odd){background:#f8f8f7}
table.stripes-none tr,table.stripes-odd tr:nth-of-type(even){background:none}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
td>div.verse{white-space:pre}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{margin-right:.25em}
ul.inline{display:-ms-flexbox;display:-webkit-box;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background-color:#00fafa}
.black{color:#000}
.black-background{background-color:#000}
.blue{color:#0000bf}
.blue-background{background-color:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background-color:#fa00fa}
.gray{color:#606060}
.gray-background{background-color:#7d7d7d}
.green{color:#006000}
.green-background{background-color:#007d00}
.lime{color:#00bf00}
.lime-background{background-color:#00fa00}
.maroon{color:#600000}
.maroon-background{background-color:#7d0000}
.navy{color:#000060}
.navy-background{background-color:#00007d}
.olive{color:#606000}
.olive-background{background-color:#7d7d00}
.purple{color:#600060}
.purple-background{background-color:#7d007d}
.red{color:#bf0000}
.red-background{background-color:#fa0000}
.silver{color:#909090}
.silver-background{background-color:#bcbcbc}
.teal{color:#006060}
.teal-background{background-color:#007d7d}
.white{color:#bfbfbf}
.white-background{background-color:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background-color:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background-color:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background-color:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media print,amzn-kf8{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<style>
/* Stylesheet for CodeRay to match GitHub theme | MIT License | http://foundation.zurb.com */
/*pre.CodeRay {background-color:#f7f7f8;}*/
.CodeRay .line-numbers{border-right:1px solid #d8d8d8;padding:0 0.5em 0 .25em}
.CodeRay span.line-numbers{display:inline-block;margin-right:.5em;color:rgba(0,0,0,.3)}
.CodeRay .line-numbers strong{color:rgba(0,0,0,.4)}
table.CodeRay{border-collapse:separate;border-spacing:0;margin-bottom:0;border:0;background:none}
table.CodeRay td{vertical-align: top;line-height:1.45}
table.CodeRay td.line-numbers{text-align:right}
table.CodeRay td.line-numbers>pre{padding:0;color:rgba(0,0,0,.3)}
table.CodeRay td.code{padding:0 0 0 .5em}
table.CodeRay td.code>pre{padding:0}
.CodeRay .debug{color:#fff !important;background:#000080 !important}
.CodeRay .annotation{color:#007}
.CodeRay .attribute-name{color:#000080}
.CodeRay .attribute-value{color:#700}
.CodeRay .binary{color:#509}
.CodeRay .comment{color:#998;font-style:italic}
.CodeRay .char{color:#04d}
.CodeRay .char .content{color:#04d}
.CodeRay .char .delimiter{color:#039}
.CodeRay .class{color:#458;font-weight:bold}
.CodeRay .complex{color:#a08}
.CodeRay .constant,.CodeRay .predefined-constant{color:#008080}
.CodeRay .color{color:#099}
.CodeRay .class-variable{color:#369}
.CodeRay .decorator{color:#b0b}
.CodeRay .definition{color:#099}
.CodeRay .delimiter{color:#000}
.CodeRay .doc{color:#970}
.CodeRay .doctype{color:#34b}
.CodeRay .doc-string{color:#d42}
.CodeRay .escape{color:#666}
.CodeRay .entity{color:#800}
.CodeRay .error{color:#808}
.CodeRay .exception{color:inherit}
.CodeRay .filename{color:#099}
.CodeRay .function{color:#900;font-weight:bold}
.CodeRay .global-variable{color:#008080}
.CodeRay .hex{color:#058}
.CodeRay .integer,.CodeRay .float{color:#099}
.CodeRay .include{color:#555}
.CodeRay .inline{color:#000}
.CodeRay .inline .inline{background:#ccc}
.CodeRay .inline .inline .inline{background:#bbb}
.CodeRay .inline .inline-delimiter{color:#d14}
.CodeRay .inline-delimiter{color:#d14}
.CodeRay .important{color:#555;font-weight:bold}
.CodeRay .interpreted{color:#b2b}
.CodeRay .instance-variable{color:#008080}
.CodeRay .label{color:#970}
.CodeRay .local-variable{color:#963}
.CodeRay .octal{color:#40e}
.CodeRay .predefined{color:#369}
.CodeRay .preprocessor{color:#579}
.CodeRay .pseudo-class{color:#555}
.CodeRay .directive{font-weight:bold}
.CodeRay .type{font-weight:bold}
.CodeRay .predefined-type{color:inherit}
.CodeRay .reserved,.CodeRay .keyword {color:#000;font-weight:bold}
.CodeRay .key{color:#808}
.CodeRay .key .delimiter{color:#606}
.CodeRay .key .char{color:#80f}
.CodeRay .value{color:#088}
.CodeRay .regexp .delimiter{color:#808}
.CodeRay .regexp .content{color:#808}
.CodeRay .regexp .modifier{color:#808}
.CodeRay .regexp .char{color:#d14}
.CodeRay .regexp .function{color:#404;font-weight:bold}
.CodeRay .string{color:#d20}
.CodeRay .string .string .string{background:#ffd0d0}
.CodeRay .string .content{color:#d14}
.CodeRay .string .char{color:#d14}
.CodeRay .string .delimiter{color:#d14}
.CodeRay .shell{color:#d14}
.CodeRay .shell .delimiter{color:#d14}
.CodeRay .symbol{color:#990073}
.CodeRay .symbol .content{color:#a60}
.CodeRay .symbol .delimiter{color:#630}
.CodeRay .tag{color:#008080}
.CodeRay .tag-special{color:#d70}
.CodeRay .variable{color:#036}
.CodeRay .insert{background:#afa}
.CodeRay .delete{background:#faa}
.CodeRay .change{color:#aaf;background:#007}
.CodeRay .head{color:#f8f;background:#505}
.CodeRay .insert .insert{color:#080}
.CodeRay .delete .delete{color:#800}
.CodeRay .change .change{color:#66f}
.CodeRay .head .head{color:#f4f}
</style>
</head>
<body class="book toc2 toc-right">
<div id="header">
<h1>Modellbasierte Datenerfassung - Handbuch</h1>
<div class="details">
<span id="author" class="author">Amt für Geoinformation Kanton Solothurn</span><br>
<span id="email" class="email"><a href="mailto:agi@bd.so.ch">agi@bd.so.ch</a></span><br>
<span id="revnumber">version 1.0.3</span>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Inhaltsverzeichnis</div>
<ul class="sectlevel1">
<li><a href="#_einleitung">1. Einleitung</a></li>
<li><a href="#_modelltypen">2. Modelltypen</a>
<ul class="sectlevel2">
<li><a href="#_erfassungsmodell">2.1. Erfassungsmodell</a></li>
<li><a href="#_publikationsmodell">2.2. Publikationsmodell</a></li>
<li><a href="#_seitenwagenmodell">2.3. Seitenwagenmodell</a></li>
<li><a href="#_validierungsmodell">2.4. Validierungsmodell</a></li>
<li><a href="#_extension_functions_modell">2.5. Extension-Functions-Modell</a></li>
</ul>
</li>
<li><a href="#_modellierungsprozess">3. Modellierungsprozess</a>
<ul class="sectlevel2">
<li><a href="#_datenerfassungswunsch_in_der_dienststelle">3.1. Datenerfassungswunsch in der Dienststelle</a></li>
<li><a href="#_erarbeitung_der_modelle">3.2. Erarbeitung der Modelle</a></li>
<li><a href="#_review_der_modelle">3.3. Review der Modelle</a></li>
<li><a href="#_testen">3.4. Testen</a></li>
<li><a href="#_integration_in_produktionsumgebung">3.5. Integration in Produktionsumgebung</a></li>
<li><a href="#_modelländerungen">3.6. Modelländerungen</a></li>
</ul>
</li>
<li><a href="#_modelldokumentation_und_ablage">4. Modelldokumentation und -Ablage</a>
<ul class="sectlevel2">
<li><a href="#_dokumentation">4.1. Dokumentation</a></li>
<li><a href="#_ablage">4.2. Ablage</a></li>
<li><a href="#_weitere_unterlagen">4.3. Weitere Unterlagen</a></li>
</ul>
</li>
<li><a href="#_werkzeuge">5. Werkzeuge</a>
<ul class="sectlevel2">
<li><a href="#_umlinterlis_editor">5.1. UML/INTERLIS-Editor</a></li>
<li><a href="#_ili2c">5.2. ili2c</a></li>
<li><a href="#_ili2pg">5.3. ili2pg</a></li>
<li><a href="#_ilivalidator">5.4. ilivalidator</a></li>
<li><a href="#_qgis_projektgenerator">5.5. QGIS-Projektgenerator</a></li>
</ul>
</li>
<li><a href="#_modellierungsregeln">6. Modellierungsregeln</a>
<ul class="sectlevel2">
<li><a href="#_modellierungssprache_compiler">6.1. Modellierungssprache / Compiler</a></li>
<li><a href="#_modellname_version_formatierung">6.2. Modellname / Version / Formatierung</a></li>
<li><a href="#_namenskonvention">6.3. Namenskonvention</a></li>
<li><a href="#_modellstruktur">6.4. Modellstruktur</a></li>
<li><a href="#_einschränkungen_zum_gebrauch_von_interlis_2_3">6.5. Einschränkungen zum Gebrauch von INTERLIS 2.3</a></li>
<li><a href="#_konsistenzbedingungen">6.6. Konsistenzbedingungen</a></li>
<li><a href="#_darstellungsinformationen">6.7. Darstellungsinformationen</a></li>
<li><a href="#_allgemeines">6.8. Allgemeines</a></li>
<li><a href="#_beispielheader">6.9. Beispielheader</a></li>
</ul>
</li>
<li><a href="#_historisierung_und_archivierung">7. Historisierung und Archivierung</a></li>
</ul>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="_einleitung"><a class="anchor" href="#_einleitung"></a>1. Einleitung</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Das Handbuch «Modellbasierte Datenerfassung» ist ein Hilfsmittel für das Arbeiten mit INTERLIS-Datenmodellen in der kantonalen Geodateninfrastruktur. Es ist entstanden aus den ursprünglichen Modellierungsregeln, umfasst in der heutigen Form aber mehr. Es behandelt in der jetzigen Form auch vor- und nachgelagerte Themen wie die Modellablage oder Integrations- und Nachführungsprozesse.</p>
</div>
<div class="paragraph">
<p>Abweichung zu den vorliegenden minimalen Vorgaben sind natürlich erlaubt. Zudem kann und soll das Handbuch nie allumfassend sein. Abweichung müssen jedoch immer bewusst gemacht werden und begründbar sein.</p>
</div>
<div class="paragraph">
<p>Änderungswünsche, Ergänzungen, Hinweise auf Fehler/Widersprüche etc. sind an Stefan Ziegler zu richten.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_modelltypen"><a class="anchor" href="#_modelltypen"></a>2. Modelltypen</h2>
<div class="sectionbody">
<div class="paragraph">
<p>INTERLIS-Modelle werden für verschiedene Zwecke eingesetzt. Entsprechend muss dies beim Modellieren berücksichtigt werden. Nicht in jedem Fall werden oder müssen sowohl ein Erfassungs- und eine Publikationsmodell geschrieben werden.</p>
</div>
<div class="sect2">
<h3 id="_erfassungsmodell"><a class="anchor" href="#_erfassungsmodell"></a>2.1. Erfassungsmodell</h3>
<div class="paragraph">
<p>Erfassungsmodelle dienen der Erfassung und Nachführung von Daten in der Datenbank. Als Werkzeug zur Bewirtschaftung der Daten wird <em>QGIS</em> eingesetzt. Der Fokus bei der Modellierung liegt auf den Verzicht von Redundanzen, d.h. die Modelle sind normalisiert. So werden z.B. zwischen den einzelnen Klassen Beziehungen modelliert und Aufzähltypen modelliert, um allfällige Redundanzen zu vermeiden. Im Zusammenspiel mit <em>QGIS</em> entsteht somit eine «generische» Erfassungsfachschale.</p>
</div>
</div>
<div class="sect2">
<h3 id="_publikationsmodell"><a class="anchor" href="#_publikationsmodell"></a>2.2. Publikationsmodell</h3>
<div class="paragraph">
<p>Aufgrund der Normalisierung eignen sich Daten im Erfassungsmodell nicht für die Publikation in einem Web GIS oder als «einfacher» Layer in <em>QGIS</em>. Die für den Benutzer wichtigen Informationen sind in einem Erfassungsmodell oftmals auf verschiedene Klassen resp. Datenbanktabellen verteilt. Für die reine Darstellung und das einfache Abfragen von Informationen ist ein simpleres Modell – das Publikationsmodell – zu erarbeiten. Hauptmerkmale eines Publikationsmodelles:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Verzicht auf Beziehungen (Assoziationen) zwischen Klassen.</p>
</li>
<li>
<p>Eine Geometriespalte pro Klasse.</p>
</li>
<li>
<p>Der Inhalt kann zu jedem Zeitpunkt und automatisiert aus dem Erfassungsmodell und weiterer vorhandener Daten abgeleitet werden.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Es wird kein zusätzliches Datenabgabemodell angestrebt.</p>
</div>
<div class="paragraph">
<p>Aufzähltypen: Damit Aufzähltypen sinnvoll im Web GIS Client eingesetzt werden können, müssen zwei Bedingungen erfüllt sein: Jeder Aufzähltyp-Wert muss ein Metaattribut <code>@ili2db.dispName</code> (siehe dazu auch die <a href="https://github.com/claeis/ili2db/blob/master/docs/ili2db.rst">offizielle Dokumentation von ili2pg</a>) erhalten und es braucht in der Datentabelle eine zusätzliche Spalte, die den Wert des Metaattributes (den «schönen» Text) zum Aufzähltyp-Wert speichert.</p>
</div>
<div class="paragraph">
<p>Für die erste Bedingung muss eine gepatchte Version des UML-Editors (<code>/opt/sogis_pic/software/uml-interlis-editor/umleditor-3.6.6.zip</code>) verwendet werden. Ohne diese gepatchte Version müssen die Metattribute händisch in der ili-Datei eingepflegt werden, was sehr fehleranfällig ist. In der gepatchten Version gibt es für die Metaattribute - ähnlich wie für normale Kommentare - Eingabefelder.</p>
</div>
<div class="paragraph">
<p>Für die zweite Bedingung muss <em>ili2pg</em> erweitert werden, damit die zusätzliche Spalte automatisch angelegt wird. Bis dies soweit ist, muss die zusätzliche Spalte <code>&lt;Attributname&gt;_txt</code> manuell angelegt werden. Dazu werden in der <code>postscript.sql</code>-Datei die DDL-Befehle (<code>ALTER TABLE&#8230;&#8203;</code>) eingetragen. Beim Datenumbau reicht dann ein Join.</p>
</div>
<div class="paragraph">
<p>Für Publikationsmodelle, die nicht im Web GIS Client publiziert werden, gilt diese zweite Bedingung nicht. Falls keine Aufzähltypen im Publikationsmodell modelliert werden, kann man nicht nachträglich in der Metadatenbank Aufzähltypen «erfinden».</p>
</div>
</div>
<div class="sect2">
<h3 id="_seitenwagenmodell"><a class="anchor" href="#_seitenwagenmodell"></a>2.3. Seitenwagenmodell</h3>
<div class="paragraph">
<p>Ein Seitenwagenmodell ist strukturell ein Publikationsmodell, liegt aber in der Erfassungsdatenbank. Es wird für den CCC-Cache verwendet, d.h. die externe Fachanwendung schreibt via Data-Service in die Erfassungsdatenbank.</p>
</div>
</div>
<div class="sect2">
<h3 id="_validierungsmodell"><a class="anchor" href="#_validierungsmodell"></a>2.4. Validierungsmodell</h3>
<div class="paragraph">
<p>Das Validierungsmodell dient zur Definition von zusätzlichen Prüfungen mit der Software <em>ilivalidator</em>. In diesem Modell müssen zuerst Views erstellt werden. In diesen Views können mit Constraints die zusätzlichen Prüfungen definiert werden. Ein Beispiel findet sich <a href="http://geo.so.ch/models/ARP/SO_Nutzungsplanung_20171118_Validierung_20171120.ili">hier</a>.</p>
</div>
<div class="paragraph">
<p>Weitergehende Informationen zu den Modelltypen gibt es in der <a href="https://intraso.rootso.org/verwaltung/bau-und-justiz/amt-fuer-geoinformation/dokumente-und-grundlagen/veranstaltungen-workshops/">Präsentation</a> des AGI vom 29. August 2017 zum Thema «Arbeiten mit einem Datenmodell».</p>
</div>
</div>
<div class="sect2">
<h3 id="_extension_functions_modell"><a class="anchor" href="#_extension_functions_modell"></a>2.5. Extension-Functions-Modell</h3>
<div class="paragraph">
<p>Zum jetzigen Zeitpunkt (2019-03-21) gibt es <em>ein</em> Modell (<code>SO_FunctionsExt</code>), in welchem zusätzliche Prüffunktionen deklariert werden. Die Funktionen selber werden in Java <a href="https://github.com/sogis/ilivalidator-custom-functions">implementiert</a>. Der Modellnamen dieses Modelles ist statisch, damit nicht bei jedem neuen Release sämtliche Validierungsmodelle, welche dieses Modell importieren, nachgeführt werden müssen. Dies bedingt jedoch eine strenge Stabilität der Funktionssignaturen.</p>
</div>
<div class="paragraph">
<p>Das Modell <code>SO_FunctionsExt</code> muss noch in die offizielle INTERLIS-Modellablage des AGI migriert werden und befindet sich heute im Quellcode des ilivalidator-web-service.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_modellierungsprozess"><a class="anchor" href="#_modellierungsprozess"></a>3. Modellierungsprozess</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Auf eine strenge Formalisierung des eigentlichen Modellierungsprozesses («Startsitzung», «FIG»  etc.) wird verzichtet. Die Datenmodelle werden durch das AGI gemeinsam mit den Dienststellen erarbeitet. Für den Modellierungsprozess existiert eine Checkliste (aktuelle Version unter <code>H:\BJSVW\Agi\KGDM\Vorlagen\</code>). Diese ist zu verwenden und gegebenenfalls zu ergänzen.</p>
</div>
<div class="sect2">
<h3 id="_datenerfassungswunsch_in_der_dienststelle"><a class="anchor" href="#_datenerfassungswunsch_in_der_dienststelle"></a>3.1. Datenerfassungswunsch in der Dienststelle</h3>
<div class="paragraph">
<p><em>Verantwortung: Dienststelle</em></p>
</div>
<div class="paragraph">
<p>Auslöser kann eine neue Aufgabe sein oder es können bestehende Daten sein, welche in die modellbasierte Struktur gebracht werden sollen.</p>
</div>
</div>
<div class="sect2">
<h3 id="_erarbeitung_der_modelle"><a class="anchor" href="#_erarbeitung_der_modelle"></a>3.2. Erarbeitung der Modelle</h3>
<div class="paragraph">
<p><em>Verantwortung: AGI und Dienststelle</em></p>
</div>
<div class="paragraph">
<p>Zusammen mit der Dienststelle erarbeitet das AGI die benötigten Datenmodelle (in der Regel ein Erfassungs- und ein Publikationsmodell).</p>
</div>
<div class="paragraph">
<p>Hilfreich für die Dienststelle kann eine Exceldatei (<code>H:\BJSVW\Agi\KGDM\Vorlagen\Datenmodell_Grundlage_Vorlage.xlsx</code>) sein, in die sie in tabellarischer Form ihr «Modell» eintragen (Attributename, -typen etc.) kann. Eventuell lohnt es sich bereits mit Shapefiles ein paar Testdaten zu erfassen.</p>
</div>
</div>
<div class="sect2">
<h3 id="_review_der_modelle"><a class="anchor" href="#_review_der_modelle"></a>3.3. Review der Modelle</h3>
<div class="paragraph">
<p><em>Verantwortung: Dienststelle</em></p>
</div>
<div class="paragraph">
<p>Die Dienststellen müssen zwingend das Modell verstehen und reviewen.</p>
</div>
</div>
<div class="sect2">
<h3 id="_testen"><a class="anchor" href="#_testen"></a>3.4. Testen</h3>
<div class="paragraph">
<p><em>Verantwortung: AGI und Dienststelle</em></p>
</div>
<div class="paragraph">
<p><strong>Hinweise:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Es wird nur noch der Ablauf mit ili2pg-v4 behandelt. Für ili2pg-v3 siehe ältere Versionen des Handbuchs.</p>
</li>
<li>
<p>Informationen zur lokalen Entwicklungsumgebung inkl. dem einfachen Starten von (leeren) Pub- und Edit-DB und Import der aktuellen DB-Rollen finden sich hier <a href="https://github.com/sogis/gretljobs">GRETL-Jobs-README.md</a>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Die Dienststelle muss das Modell in einer Testumgebung zusammen mit einem konfiguriertem QGIS-Projekt testen können. Dieser Schritt ist essentiell, da jede Anpassung am Modell Aufwand verursacht.</p>
</div>
<div class="paragraph">
<p>Mit ili2pg-v4 wird das Schema nicht direkt durch <code>ili2pg</code> in der Datenbank erzeugt, sondern es wird zuerst eine SQL-Datei mit den DDL-Befehlen erstellt.</p>
</div>
<div class="paragraph">
<p>Der GDI ist mittels Ticket (im dazugehörigen Projekt/Auftrag) sämtliche benötigten Informationen zu kommen zu lassen:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>ili2pg_createschema.sh</code></p>
</li>
<li>
<p>Durch ili2pg erzeugte SQL-Datei: <code>&lt;schema_name&gt;.sql</code></p>
</li>
<li>
<p><code>postscript.sql</code> (<code>prescript.sql</code> ist in der Regel nicht mehr notwendig)</p>
</li>
<li>
<p>INTERLIS-Datenmodell (*.ili), falls noch nicht in der Modellablage publiziert.</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="_ili2pg_createschema_sh"><a class="anchor" href="#_ili2pg_createschema_sh"></a>3.4.1. ili2pg_createschema.sh</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>java -jar /usr/local/ili2pg-4.3.1/ili2pg.jar \
--dbschema &lt;Schema Name&gt; --models &lt;Modell Name&gt; \
--defaultSrsCode 2056 --createGeomIdx --createFk --createFkIdx --createUnique --createEnumTabs --beautifyEnumDispName --createMetaInfo --createNumChecks --nameByTopic --strokeArcs \
--createBasketCol --createDatasetCol \
--createscript &lt;Schema Name&gt;.sql</code></pre>
</div>
</div>
<div class="paragraph">
<p>Es handelt sich um den eigentlichen ili2pg-Befehl zum Erzeugen des Schemas und der Tabellen. Die Optionen sind in der Regel nicht zu ändern. Falls sie geändert werden müssen, muss dies im Ticket begründet werden. Er dient der GDI, um ggf. das SQL-Skript auch selber herstellen zu können. Für das lokale Entwickeln lohnt es sich entweder die identische ili2pg-Version zu installieren und/oder einen symbolischen Link zu machen, damit der Pfad im Shellskript nicht geändert werden muss.</p>
</div>
</div>
<div class="sect3">
<h4 id="_schema_name_sql_datei"><a class="anchor" href="#_schema_name_sql_datei"></a>3.4.2. &lt;schema_name&gt;.sql-Datei</h4>
<div class="paragraph">
<p>Diese Datei wurde mit obigem Befehl erstellt und enthält das DDL zum Erzeugen des Schemas und der Tabellen (inkl. einigen INSERT-Befehlen) in der Datenbank.</p>
</div>
</div>
<div class="sect3">
<h4 id="_postscript_sql"><a class="anchor" href="#_postscript_sql"></a>3.4.3. postscript.sql</h4>
<div class="paragraph">
<p>In dieser Datei werden Rollen angelegt und Permissions gesetzt. Zudem werden auch Kommentare zum Schema gesetzt. Einige Beispiele:</p>
</div>
<div class="paragraph">
<p>Öffentliches Schema in der Pub-DB:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>COMMENT ON SCHEMA
   awjf_biotopbaeume_pub
IS
   'Dieses Schema wird vom AWJF für die Publikation der Biotopbäume verwendet. Fragen: peter.senn@bd.so.ch, samuel.scheibler@vd.so.ch'
;
GRANT USAGE ON SCHEMA awjf_biotopbaeume_pub TO public, ogc_server, sogis_service, gretl
;
GRANT SELECT ON ALL TABLES IN SCHEMA awjf_biotopbaeume_pub TO public, ogc_server, sogis_service
;
GRANT SELECT, INSERT, UPDATE, DELETE ON ALL TABLES IN SCHEMA awjf_biotopbaeume_pub TO gretl
;
GRANT USAGE ON ALL SEQUENCES IN SCHEMA awjf_biotopbaeume_pub TO gretl
;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Die Rollen <code>ogc_server</code> und <code>sogis_service</code> werden vom Web GIS Client benötigt. Die Rolle <code>gretl</code> ist für die Ausführung von GRETL-Jobs notwendig.</p>
</div>
<div class="paragraph">
<p>Nicht-öffentliches Schema in der Pub-DB:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>COMMENT ON SCHEMA
    afu_abbaustellen_pub
IS
    'Materialentnahmestellen (Abbau von Kies, Kalk- und Tonstein). Fragen: AfU-Abteilung Boden / Untergrund / Geologie'
;
CREATE ROLE afu_abbaustellen_pub_read
;
GRANT USAGE ON SCHEMA afu_abbaustellen_pub TO afu_abbaustellen_pub_read, ogc_server, sogis_service, gretl
;
GRANT SELECT ON TABLE afu_abbaustellen_pub.abbaustelle TO afu_abbaustellen_pub_read, ogc_server, sogis_service
;
GRANT SELECT, INSERT, UPDATE, DELETE ON ALL TABLES IN SCHEMA afu_abbaustellen_pub TO gretl
;
GRANT USAGE ON ALL SEQUENCES IN SCHEMA afu_abbaustellen_pub TO gretl
;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Die Rolle <code>public</code> hat keine Rechte. Die Rolle <code>afu_abbaustellen_pub_read</code> hat Leserechte auf das Schema.</p>
</div>
<div class="paragraph">
<p>Nicht-öffentliches Schema in der Edit-DB:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>COMMENT ON SCHEMA
    afu_gefahrenkartierung
IS
    'Erfassungsmodell der Gefahrenkartierungsdaten des Kantons Solothurn'
;
CREATE ROLE afu_gefahrenkartierung_read
;
CREATE ROLE afu_gefahrenkartierung_write
;
GRANT USAGE ON SCHEMA afu_gefahrenkartierung TO afu_gefahrenkartierung_write, afu_gefahrenkartierung_read
;
GRANT SELECT, INSERT, UPDATE, DELETE ON ALL TABLES IN SCHEMA afu_gefahrenkartierung TO afu_gefahrenkartierung_write
;
GRANT SELECT ON ALL TABLES IN SCHEMA afu_gefahrenkartierung TO afu_gefahrenkartierung_read, gretl
;
GRANT USAGE ON ALL SEQUENCES IN SCHEMA afu_gefahrenkartierung TO afu_gefahrenkartierung_write
;
GRANT afu_gefahrenkartierung_read TO bjsvw
;
GRANT afu_gefahrenkartierung_write TO vumaavat, vumaakau
;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Die Rolle <code>public</code> hat keine Rechte. Für die Lese- und Schreiberechte weden die Rollen <code>afu_gefahrenkartierung_write</code> und <code>afu_gefahrenkartierung_read</code> erstellt.</p>
</div>
<div class="paragraph">
<p>Schema darf nur gesamtes Amt sehen:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>COMMENT ON SCHEMA
   afu_igel
IS
   'Schema für den Import der heruntergeladenen JSON-Dateien. Standorte und Ställe aus IGEL-Applikation.'
;
CREATE ROLE afu_igel_read
;
GRANT USAGE ON SCHEMA afu_igel TO afu_igel_read, ogc_server, sogis_service, gretl
;
GRANT SELECT ON ALL TABLES IN SCHEMA afu_igel TO afu_igel_read, ogc_server, sogis_service
;
GRANT SELECT, INSERT, UPDATE, DELETE ON ALL TABLES IN SCHEMA afu_igel TO gretl
;
GRANT USAGE ON ALL SEQUENCES IN SCHEMA afu_igel TO gretl
;
GRANT afu_igel_read TO bjsvw, bdafu
;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Obwohl die Ämter als Rollen in der Datenbank vorhanden sind, wird zusätzlich ein für das Schema spezifische Rolle erstellt <code>afu_igel_read</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_prescript_sql"><a class="anchor" href="#_prescript_sql"></a>3.4.4. prescript.sql</h4>
<div class="paragraph">
<p>Früher wurde im <code>prescript.sql</code> die <code>admin</code> Rolle gesetzt, welche die nachfolgenden SQL-Befehle ausgeführt hat. Dies ist nicht mehr notwendig resp. passiert als Option beim Ausführen des <code>psql</code>-Befehls. Das <code>prescript.sql</code> kann aber trotzdem hilfreich sein, z.B. um bestende Schemen umzubenennen:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>ALTER SCHEMA &lt;schema_name&gt; RENAME TO &lt;schema_name&gt;_delete;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_interlis_datenmodell"><a class="anchor" href="#_interlis_datenmodell"></a>3.4.5. INTERLIS-Datenmodell</h4>
<div class="paragraph">
<p>Falls das Datenmodell noch nicht in der offiziellen <a href="http://geo.so.ch/models/">INTERLIS-Datenablage</a> vorhanden ist, muss es dem Ticket angehängt werden. Die Integration eines Modelles in die Ablage ist im <a href="https://github.com/sogis/sogis-interlis-repository/blob/master/docs/betriebs-_und_nachfuehrungshandbuch.md">Github-Repo</a> beschrieben.</p>
</div>
</div>
<div class="sect3">
<h4 id="_psql_befehl"><a class="anchor" href="#_psql_befehl"></a>3.4.6. psql-Befehl</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>psql -h localhost -p 54321 -d edit -c "SET ROLE admin" --single-transaction -f prescript.sql -f agi_gb2av.sql -f postscript.sql</code></pre>
</div>
</div>
<div class="paragraph">
<p>Dieser Befehl erstellt das Schema und führt das <code>pre-</code> und <code>postscript.sql</code> aus. Er kann lokal ausgeführt werden, um zu testen, ob das «Gesamtpaket» durchläuft.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_integration_in_produktionsumgebung"><a class="anchor" href="#_integration_in_produktionsumgebung"></a>3.5. Integration in Produktionsumgebung</h3>
<div class="paragraph">
<p><em>Verantwortung: AGI</em></p>
</div>
<div class="paragraph">
<p>Die GDI integriert das abgenommene Modell in der Produktionsumgebung. Die QGIS-Projektdatei muss mit den entsprechenden Datenbankparametern angepasst werden. Die Integration erfolgt analog der Integration in die Testumgebung.</p>
</div>
<div class="paragraph">
<p>Um eine möglichst hohe Datenqualität zu halten, werden die Daten täglich mit einem ili2pg-Befehl exportiert. Dafür wird ein Skript (in Zukunft GRETL-Job) verwendet. Nach der Integration ist das neue Modell in das Skript zu integrieren (GDI).</p>
</div>
</div>
<div class="sect2">
<h3 id="_modelländerungen"><a class="anchor" href="#_modelländerungen"></a>3.6. Modelländerungen</h3>
<div class="paragraph">
<p><em>Verantwortung: AGI und Dienststelle</em></p>
</div>
<div class="paragraph">
<p>Anforderungen an ein Modell können im Laufe der Zeit ändern. Sogenannte Modelländerungen sind zwar nicht gewünscht, aber sind nicht vermeidbar. Welche der einzelnen Modellierungsschritte nochmals durchgeführt werden müssen, hängt von der Änderung selbst ab. Da noch praktisch keine Erfahrungen vorliegen, wird davon ausgegangen, dass das bestehende Schema umbenannt wird und mit dem geänderten Modell ein neues Schema mit dem gleichen Namen erstellt wird. Die alten Daten können mittels GRETL-Job in die neuen Tabellen kopiert umgebaut werden. Ist die Modelländerung abgenommen, kann das alte (umbenannte) Schema gelöscht werden.</p>
</div>
<div class="paragraph">
<p>Der Modelländerungsprozess hängt sicher auch davon ab, wie in Zukunft grundsätzlich Änderungen im AGDI vorgenommen werden sollen und können.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_modelldokumentation_und_ablage"><a class="anchor" href="#_modelldokumentation_und_ablage"></a>4. Modelldokumentation und -Ablage</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_dokumentation"><a class="anchor" href="#_dokumentation"></a>4.1. Dokumentation</h3>
<div class="paragraph">
<p>In der Regel genügt eine Dokumentation im Modell selbst (Bemerkungen zu Topics, Klassen und Attributen). Bei grösseren Modellen und/oder z.B. im Rahmen von Erfassungsrichtlinien ist eine Dokumentation des Modelles in einem zusätzlichen Dokument notwendig. Die Vorlage für eine solche Dokumentation findet sich hier: <code>H:\BJSVW\Agi\KGDM\Vorlagen\Modelldokumentation_Vorlage_v01.docx</code>.</p>
</div>
<div class="paragraph">
<p>Die Bemerkungen im Modell zu Topics, Klassen und Attributen werden beim Anlegen der Tabellen in der Datenbank automatisch übernommen und als Kommentar zu Tabellen und Attributen geführt. Kommentare zu einem einzelnen Aufzähltypwert werden in die Spalte <code>description</code> in der jeweiligen Aufzähltyp-Tabelle gemappt (nicht zu Verwechseln mit dem Metaattribut <code>ili2db.dispName</code>).</p>
</div>
<div class="paragraph">
<p>Zusätzlich zu den INTERLIS-Objekten muss das Schema in der Datenbank kommentiert werden und falls immer möglich mit Auskunftspersonen (E-Mail-Adressen) hinterlegt werden, z.B.:</p>
</div>
<div class="paragraph">
<p><code>Dieses Schema wird für die Erfassung der Hoheitsgrenzen verwendet. Fragen: <a href="mailto:noemi.sturm@bd.so.ch">noemi.sturm@bd.so.ch</a>, <a href="mailto:stefan.ziegler@bd.so.ch">stefan.ziegler@bd.so.ch</a>.</code></p>
</div>
<div class="paragraph">
<p>Dies erfolgt im DDL-Skript in welchem auch die Rechte auf den Tabellen angepasst werden.</p>
</div>
</div>
<div class="sect2">
<h3 id="_ablage"><a class="anchor" href="#_ablage"></a>4.2. Ablage</h3>
<div class="paragraph">
<p>Die definitiven und abgenommenen Datenmodelle (<code>*.ili</code>) werden in der <a href="http://geo.so.ch/models/">INTERLIS-Modellablage</a> des Kantons Solothurn publiziert. Ist das Datenmodell publiziert, darf es ohne Änderung des Modellnamens inhaltlich nicht verändert werden (redaktionelle Änderungen sind denkbar). Die Publikation ist automatisiert und <a href="https://github.com/sogis/sogis-interlis-repository/blob/master/docs/betriebs-_und_nachfuehrungshandbuch.md">hier</a> beschrieben.</p>
</div>
<div class="paragraph">
<p>Durch die Publikation in einer Modellablage und der Verknüpfung der verschiedenen Modellablagen untereinander, finden die eingesetzten Werkzeuge (meistens) ohne weiteres Zutun sämtliche INTERLIS-Modelle, die im eigenen Modell importiert werden.</p>
</div>
<div class="paragraph">
<p>Die UML-Datei wird ebenfalls in der Modellablage abgelegt. Die UML-Datei ist der Master. Es dürfen keine Änderungen nur in der INTERLIS-Modelldatei vorgenommen werden.</p>
</div>
</div>
<div class="sect2">
<h3 id="_weitere_unterlagen"><a class="anchor" href="#_weitere_unterlagen"></a>4.3. Weitere Unterlagen</h3>
<div class="paragraph">
<p>Weitere Unterlagen im Rahmen der Modellierung sind im Projekte-Ordner abzulegen.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_werkzeuge"><a class="anchor" href="#_werkzeuge"></a>5. Werkzeuge</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Für die verschiedenen Modellierungsprozesse stehen passende Werkzeuge zur Verfügung.</p>
</div>
<div class="sect2">
<h3 id="_umlinterlis_editor"><a class="anchor" href="#_umlinterlis_editor"></a>5.1. UML/INTERLIS-Editor</h3>
<div class="paragraph">
<p>Der <a href="http://umleditor.org/">UML/INTERLIS-Editor</a> dient der Modellierung von INTERLIS-Modellen mittels UML-Diagrammen. Er benötigt Java und kann lokal installiert und verwendet werden. Die Lernkurve ist relativ steil und die Bedienung gewöhnungsbedürftig. Mit dem Verständnis von INTERLIS als Modellierungssprache wächst auch die Verständnis für die Bedienung des <em>UML/INTERLIS-Editors</em>. Als Einstiegshilfe dient die Wikiseite <a href="https://geoweb.rootso.org/redmine/projects/sogiswiki/wiki/Modelle_modellieren">Modelle modellieren</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_ili2c"><a class="anchor" href="#_ili2c"></a>5.2. ili2c</h3>
<div class="paragraph">
<p>Mittels <a href="https://sourceforge.net/projects/umleditor/files/ili2c/">INTERLIS-Compiler</a> kann das INTERLIS-Modell syntaktisch geprüft werden. Die Software ist bereits im <em>UML/INTERLIS-Editor</em> eingebaut und muss nicht zwingend separat installiert werden.</p>
</div>
<div class="paragraph">
<p>Folgende Version ist zu verwenden: 4.5.22 oder höher</p>
</div>
</div>
<div class="sect2">
<h3 id="_ili2pg"><a class="anchor" href="#_ili2pg"></a>5.3. ili2pg</h3>
<div class="paragraph">
<p><a href="http://www.eisenhutinformatik.ch/interlis/ili2pg/">Ili2pg</a> erstellt aufgrund eines INTERLIS-Modelles ein Schema mit leeren Tabellen in einer PostgreSQL/PostGIS-Datenbank. Es kann auch INTERLIS-Transferdateien importieren oder aus einer Datenbank Daten in eine Transferdatei exportieren.</p>
</div>
<div class="paragraph">
<p>Es wird Version 4.3.1 verwendet.</p>
</div>
<div class="paragraph">
<p>Mit <code>ili2gpkg</code> und <code>ili2fgdb</code> stehen Derivate für GeoPackage und FileGeodatabase zur Verfügung.</p>
</div>
</div>
<div class="sect2">
<h3 id="_ilivalidator"><a class="anchor" href="#_ilivalidator"></a>5.4. ilivalidator</h3>
<div class="paragraph">
<p>Dank des <a href="https://github.com/claeis/ilivalidator&gt;">ilivalidators</a> kann eine INTERLIS-Transferdatei auf ihre Modellkonformität geprüft werden. Die Software ist ebenfalls in <em>ili2pg</em> eingebaut und ist standardmässig aktiviert und muss mit <code>--disableValidation</code> ausgeschaltet werden.</p>
</div>
</div>
<div class="sect2">
<h3 id="_qgis_projektgenerator"><a class="anchor" href="#_qgis_projektgenerator"></a>5.5. QGIS-Projektgenerator</h3>
<div class="paragraph">
<p>Das QGIS-Plugin «QGIS-Projektgenerator» erstellt anhand eines INTERLIS-Modelles resp. der in der Datenbank angelegten Tabellen automatisch ein QGIS-Projekt mit bereits vorkonfigurierten und verknüpften Formularen.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_modellierungsregeln"><a class="anchor" href="#_modellierungsregeln"></a>6. Modellierungsregeln</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_modellierungssprache_compiler"><a class="anchor" href="#_modellierungssprache_compiler"></a>6.1. Modellierungssprache / Compiler</h3>
<div class="dlist">
<dl>
<dt class="hdlist1">#101</dt>
<dd>
<p>Modellierungssprache ist INTERLIS 2.3 gemäss Referenzhandbuch vom 13. April 2006.</p>
</dd>
<dt class="hdlist1">#102</dt>
<dd>
<p>Für die Kontrolle der Datenmodelle wird der INTERLIS-Compiler Version 4.5.22 vom 7. April 2016 (oder höher) eingesetzt.</p>
</dd>
<dt class="hdlist1">#103</dt>
<dd>
<p>Der Namensraum (<code>AT</code> in der ili-Datei) für Modelle (<code>Issuer URI</code> in <em>UML/INTERLIS-Editor</em>) ist <a href="https://&lt;AMT&gt;.so.ch" class="bare">https://&lt;AMT&gt;.so.ch</a>, wobei das entsprechende Amt angegeben wird.</p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_modellname_version_formatierung"><a class="anchor" href="#_modellname_version_formatierung"></a>6.2. Modellname / Version / Formatierung</h3>
<div class="dlist">
<dl>
<dt class="hdlist1">#201</dt>
<dd>
<p>Die Benennung von Modell- und UML- Dateien erfolgt nach folgendem Schema:</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>kk_ds_n*_[Publikation]_v*[_Validierung_v*].ili/.uml</p>
</div>
<div class="paragraph">
<p>kk: Kantonskuürzel (<code>SO</code>)</p>
</div>
<div class="paragraph">
<p>ds: Kürzel Amt / Dienststelle (<code>AV</code>)</p>
</div>
<div class="paragraph">
<p>n*: Sprechender Name des Modells (<code>Nachfuehrungskreise</code>)</p>
</div>
<div class="paragraph">
<p>v*: Version des Modells im Format JJJJMMTT (<code>20160407</code>)</p>
</div>
<div class="paragraph">
<p>Für den Dateinamen des Publikationsmodelles wird «Publikation» hinzugefügt. Für den Dateinamen des Validierungsmodells wird dem Dateinamen des zu validierenden Modelles «Validierung» (inkl. Datum) hinzugefügt.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">#202</dt>
<dd>
<p>Die Benennung von Modellen erfolgt nach folgendem Schema:</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>kk_ds_n*_[Publikation]_v*[_Validierung_v*]</p>
</div>
<div class="paragraph">
<p>kk: Kantonskürzel (<code>SO</code>)</p>
</div>
<div class="paragraph">
<p>ds: Kürzel Amt / Dienststelle (<code>AV</code>)</p>
</div>
<div class="paragraph">
<p>n*: Sprechender Name des Modells (<code>Nachfuehrungskreise</code>)</p>
</div>
<div class="paragraph">
<p>v*: Version des Modells im Format JJJJMMTT (<code>20160407</code>)</p>
</div>
<div class="paragraph">
<p>Der Modellnamen des Validierungsmodelles und des Publikationsmodells wird analog der Regel für Dateinamen gewählt.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">#203</dt>
<dd>
<p>Die Metaattribute <code>furtherInformation</code> (in der Regel der Link zur UML-Datei) und <code>technicalContact</code> (<code>mailto:agi@bd.so.chg</code>) sind im Header der Modelldatei (via UML-Editor) zu erfassen.</p>
</dd>
<dt class="hdlist1">#204</dt>
<dd>
<p>Die Änderungshistorie wird im Header der Modelldatei (via UML-Editor) dokumentiert.</p>
</dd>
<dt class="hdlist1">#205</dt>
<dd>
<p>Für die Formatierung der Modelldateien dürfen keine Tabulatoren verwendet werden.</p>
</dd>
<dt class="hdlist1">#206</dt>
<dd>
<p>In Kommentaren sollen Umlaute verwendet werden. Das Encoding der ili-Datei ist UTF-8.</p>
</dd>
<dt class="hdlist1">#207</dt>
<dd>
<p>Die Version (= Datum) des Modelles ist (via UML-Editor) anzugeben. <code>VERSION "2017-01-19"</code></p>
</dd>
<dt class="hdlist1">#208</dt>
<dd>
<p>Jedes Attribut muss mit einem Kommentar versehen werden, welcher das Attribut sinnvoll beschreibt.</p>
</dd>
<dt class="hdlist1">#210</dt>
<dd>
<p>Jede Klasse muss mit einem Kommentar versehen werden, welcher die Klasse sinnvoll beschreibt.</p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_namenskonvention"><a class="anchor" href="#_namenskonvention"></a>6.3. Namenskonvention</h3>
<div class="dlist">
<dl>
<dt class="hdlist1">#301</dt>
<dd>
<p>Alle Modellelemente (Modellnamen, Topics, Klassen, Attribute etc.) werden ausschliesslich auf Deutsch bezeichnet.</p>
</dd>
<dt class="hdlist1">#302</dt>
<dd>
<p>Namen von Topics, Klassen, Assoziationen und Attributen sollte nicht länger als 29 Zeichen sein.</p>
</dd>
<dt class="hdlist1">#303</dt>
<dd>
<p>Topic-Namen: Gross- und Kleinschrift mit Underscore als Trennzeichen. Plural.</p>
</dd>
<dt class="hdlist1">#304</dt>
<dd>
<p>Klassen-Namen: Gross- und Kleinschrift mit Underscore als Trennzeichen. Singular.</p>
</dd>
<dt class="hdlist1">#305</dt>
<dd>
<p>Attribut-Namen: Gross- und Kleinschrift mit Underscore als Trennzeichen. Singular. Bei Verwendung von <code>BAG OF</code> resp. <code>LIST OF</code> oder in (Publikations-)modellen bei komma-separierten Inhalten wird der Plural verwendet.</p>
</dd>
<dt class="hdlist1">#306</dt>
<dd>
<p>Die Verwendung von reservierten Namen ist nicht erlaubt (z.B. Name).</p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_modellstruktur"><a class="anchor" href="#_modellstruktur"></a>6.4. Modellstruktur</h3>
<div class="dlist">
<dl>
<dt class="hdlist1">#401</dt>
<dd>
<p>Es müssen die Geometrietypen aus dem CHBase-Modell <code>GeometryCHLV95_V1</code> verwendet werden.</p>
</dd>
<dt class="hdlist1">#402</dt>
<dd>
<p>Für Kantonskürzel muss <code>CHCantonCode</code> aus dem CHBase-Modell <code>CHAdminCodes_V1</code> verwendet werden</p>
</dd>
<dt class="hdlist1">#403</dt>
<dd>
<p>BFS-Nummern sind als Wertebereich 0 .. 9999 zu definieren.</p>
</dd>
<dt class="hdlist1">#404</dt>
<dd>
<p>Jahre sind als <code>GregorianYear</code> zu definieren.</p>
</dd>
<dt class="hdlist1">#405</dt>
<dd>
<p>Monate sind als Wertebereich 1 .. 12 mit der Einheit (Unit) <code>M</code> zu definieren.</p>
</dd>
<dt class="hdlist1">#406</dt>
<dd>
<p>Daten (Datum) sind als <code>XMLDate</code> zu definieren.</p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_einschränkungen_zum_gebrauch_von_interlis_2_3"><a class="anchor" href="#_einschränkungen_zum_gebrauch_von_interlis_2_3"></a>6.5. Einschränkungen zum Gebrauch von INTERLIS 2.3</h3>
<div class="dlist">
<dl>
<dt class="hdlist1">#501</dt>
<dd>
<p>Views dürfen nur in Validierungsmodellen verwendet werden.</p>
</dd>
<dt class="hdlist1">#502</dt>
<dd>
<p>Für <code>TEXT</code> muss immer eine konkrete Länge angegeben werden.</p>
</dd>
<dt class="hdlist1">#503</dt>
<dd>
<p>Externe Objektkataloge und Codelisten dürfen nicht verwendet werden.</p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_konsistenzbedingungen"><a class="anchor" href="#_konsistenzbedingungen"></a>6.6. Konsistenzbedingungen</h3>
<div class="dlist">
<dl>
<dt class="hdlist1">#601</dt>
<dd>
<p>Die Kardinalitäten von Rollen muss erfasst werden.</p>
</dd>
<dt class="hdlist1">#602</dt>
<dd>
<p>UNIQUE-Bedingungen müssen, wo sinnvoll, erfasst werden.</p>
</dd>
<dt class="hdlist1">#603</dt>
<dd>
<p>Den Objekten ist immer eine eindeutige Objekt-Identifikation zuzuweisen. Als OID muss <code>INTERLIS.UUIDOID</code> verwendet werden.</p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_darstellungsinformationen"><a class="anchor" href="#_darstellungsinformationen"></a>6.7. Darstellungsinformationen</h3>
<div class="dlist">
<dl>
<dt class="hdlist1">#701</dt>
<dd>
<p>Textpositionen werden nur definiert, wenn diese schwer aus den Daten berechnet werden können oder spezielle Anforderungen an die Darstellung bestehen.</p>
</dd>
<dt class="hdlist1">#702</dt>
<dd>
<p>Für Labelorientierungen etc. wird die Einheit <code>Units.Angle_Degree</code> verwendet.</p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_allgemeines"><a class="anchor" href="#_allgemeines"></a>6.8. Allgemeines</h3>
<div class="dlist">
<dl>
<dt class="hdlist1">#801</dt>
<dd>
<p>Allgemeiner Grundsatz: Es wird nur die IST-Situation beschrieben. Also weder Archivierung noch Historisierung respektive die dafür benötigten Attribute.</p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_beispielheader"><a class="anchor" href="#_beispielheader"></a>6.9. Beispielheader</h3>
<div class="literalblock">
<div class="content">
<pre>INTERLIS 2.3;
/**
* !!------------------------------------------------------------------------------
* !! Version    | wer | Änderung
* !!------------------------------------------------------------------------------
* !! 2015-05-13 | SK  | Modell (v26) für Pilot durch Stefan Keller (SK) erstellt
* !! 2016-11-11 | SK  | Überarbeitung auf Version 32 (dm_npl_ktso_v32_LV95_ili2.ili)
* !! 2016-11-29 | OJ  | Tech. Review und Finalisierung durch Oliver Jeker (AGI)
* !! 2017-01-05 | OJ  | Korrektur Beziehungsrollennamen = Klassennamen
* !! 2017-09-01 | al  | - Lockerung der Beziehung Dokument &lt;-&gt; Geometrie
* !!            |     | - NP_Typ_Kanton_Grundnutzung mit N134 ergänzt
* !!            |     | - NP_Typ_Kanton_Ueberlagernd_Flaeche mit N812,N813 und
* !!            |     |   N820-823 ergänzt
* !!            |     | - Rechtschreibung bei Ueberbauungsziffer
* !!            |     | - Modell mit Beschreibung ergänzt
* !! 2017-09-15 | al  | OID AS INTERLIS.UUIDOID wieder eingefügt
* !! 2017-11-18 | sz  | - OID AS INTERLIS.UUIDOID für sämtliche Klassen
* !!            |     | - Zusätzliche Assoziation Geometrie &lt;-&gt; Dokument gelöscht
* !!            |     | - Klasse Plandokument gelöscht
* !!==============================================================================
*/
!!@ technicalContact = "mailto:agi@bd.so.ch";
!!@ furtherInformation = "http://geo.so.ch/models/ARP/SO_ARP_Nutzungsplanung_20171118.uml";
MODEL SO_ARP_Nutzungsplanung_20171118 (de)
  AT "https://arp.so.ch"
  VERSION "2017-11-18" =

END SO_ARP_Nutzungsplanung_20171118.</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_historisierung_und_archivierung"><a class="anchor" href="#_historisierung_und_archivierung"></a>7. Historisierung und Archivierung</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Das INTERLIS-Modell bildet die IST-Situation ab und verwaltet keine Zeitstände. Die Historisierung und Archivierung ist in der neuen GDI-Umgebung noch nicht gelöst.</p>
</div>
<div class="paragraph">
<p>Angedacht ist, dass die Archivierung der Geodaten mittels INTERLIS-Transferdateien der Erfassungsmodelle gemacht wird und die Historisierung in der Datenbank auf Basis der Publikationsmodelle geschieht. Auch aus diesem Grund soll auf Assoziationen im Publikationsmodell verzichtet werden, da die Umsetzung der Historisierung einfacher wird.</p>
</div>
<div class="paragraph">
<p>Auf den Einsatz der bestehenden Datenbank-Historisierungslösung («update_layer()») ist in der Publikationsdatenbank zu verzichten. Eine neue Historisierungslösung wird als Umsetzungsprojekt von SO!GIS 2.0 erarbeitet.</p>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Version 1.0.3<br>
Last updated 2021-01-22 09:07:22 UTC
</div>
</div>
</body>
</html>